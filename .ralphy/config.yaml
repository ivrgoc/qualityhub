# Ralphy Configuration â€” QualityHub

project:
  name: "QualityHub"
  description: "AI-powered Test Management Platform for QA teams"
  version: "1.0.0"
  summary: |
    QualityHub is a modern test management platform for QA teams.
    This config enforces strict TypeScript, modular backend practices, and security guardrails.

workspaces:
  app:
    cwd: "."

commands:
  app:
    dev: "npm run dev"
    build: "npm run build"
    lint: "npm run lint"
    test: "npm run test"

# IMPORTANT: Ralphy expects `rules` to be an ARRAY of strings.
rules:
  - "Follow QUALITY_STANDARDS.md for coding conventions and architecture decisions."
  - "Do NOT edit or commit .env files or secrets."
  - "Prefer small, incremental changes; avoid broad refactors."
  - "Keep lint, tests, and build passing before marking tasks complete."
  - "TypeScript strict: avoid `any`; prefer proper interfaces/types."
  - "All functions should have explicit return types when reasonable."
  - "Use async/await; avoid .then chains."
  - "Frontend: functional components + hooks; keep components small and focused."
  - "Frontend: use Tailwind for styling; avoid inline styles except dynamic values."
  - "Backend: controllers handle HTTP only; business logic stays in services."
  - "Backend: validate inputs (DTO / schema validation) and return consistent errors."
  - "Security: never log sensitive data; sanitize inputs; use parameterized queries."
  - "Use migrations for schema changes; do not alter DB manually."

never_touch:
  - ".env"
  - ".env.*"
  - ".github/workflows/**"
  - "**/*.pem"
  - "**/*.key"
  - "**/*.crt"

validation:
  always:
    - "npm run lint"
    - "npm run build"
  # If your repo has tests:
  # always:
  #   - "npm run test"

guardrails:
  - "If a change requires DB schema updates, add migration files rather than editing DB directly."
  - "If there is a multi-tenant requirement, enforce org/project isolation in queries and authorization checks."
  - "Do not introduce new frameworks without explicit instruction."

notes:
  tech_stack: |
    Frontend: React + TypeScript + Vite + Tailwind + Radix UI + RHF+Zod + Recharts.
    Backend (target): NestJS modular architecture.
    Database: PostgreSQL (migrations), optional Redis/Elastic later.
  domain_focus: |
    Entities: projects, test_cases, test_runs, test_results, requirements.
    Practices: RBAC, audit fields, append-only results where applicable.
